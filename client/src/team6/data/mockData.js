// =====================================
// ✅ TEAM 6 MOCK DATA FILE (ENHANCED)
// =====================================

// Utility function to shuffle arrays
const shuffle = (arr) => arr.slice().sort(() => Math.random() - 0.5);

// =====================================
// RANDOM QUESTION SELECTOR FUNCTION
// =====================================
export const getRandomQuestions = () => {
  // Categories of question IDs
  const multipleCorrectQuestions = [17]; // олон зөв хариулт
  const imageQuestions = [42]; // зураг бүхий асуулт
  const fillBlankQuestions = [15]; // нөхөх
  const textQuestions = [16]; // текст хариулт
  const multipleChoiceQuestions = [
    14, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,
    36, 37, 38, 39, 40, 41,
  ];

  // Choose questions
  const selectedMultipleCorrect = shuffle(multipleCorrectQuestions).slice(0, 1);
  const selectedImage = shuffle(imageQuestions).slice(0, 1);
  const selectedFillBlank = shuffle(fillBlankQuestions).slice(0, 1);
  const selectedText = shuffle(textQuestions).slice(0, 1);
  const selectedMultipleChoice = shuffle(multipleChoiceQuestions).slice(0, 3);

  // Merge all selected and shuffle
  const allSelected = [
    ...selectedMultipleCorrect,
    ...selectedImage,
    ...selectedFillBlank,
    ...selectedText,
    ...selectedMultipleChoice,
  ];

  return shuffle(allSelected);
};

// =====================================
// COURSE CATEGORIES
// =====================================
export const mockCategories = [
  { id: 1, name: "Математик", description: "Математикийн хичээлүүд" },
  { id: 2, name: "Физик", description: "Физикийн хичээлүүд" },
  {
    id: 3,
    name: "Компьютер шинжлэх ухаан",
    description: "Програм хангамж, систем шинжилгээ",
  },
  { id: 4, name: "Инженер", description: "Инженерийн хичээлүүд" },
];

// =====================================
// COURSES
// =====================================
export const mockCourses = [
  {
    id: 1,
    categoryId: 3,
    name: "Компьютерын архитектур",
    code: "F.CS301",
    description: "CPU, RAM, ROM, санах ойн бүтэц",
  },
  {
    id: 2,
    categoryId: 1,
    name: "Математик I",
    code: "MATH101",
    description: "Дифференциал тооцоолол",
  },
  {
    id: 3,
    categoryId: 2,
    name: "Физик I",
    code: "PHYS101",
    description: "Механик, хөдөлгөөн",
  },
];

// =====================================
// TOPICS
// =====================================
export const mockTopics = [
  {
    id: 13,
    courseId: 1,
    name: "Үндсэн санах ой (RAM)",
    description: "DRAM, SRAM, SDRAM",
  },
  {
    id: 14,
    courseId: 1,
    name: "ROM санах ой",
    description: "MASK ROM, PROM, EPROM, EEPROM",
  },
  {
    id: 15,
    courseId: 1,
    name: "CPU ба RAM урсгал",
    description: "Data flow, Control flow",
  },
  {
    id: 16,
    courseId: 1,
    name: "Санах ойн хаяглалт",
    description: "Хаяглалтын аргууд",
  },
];

// =====================================
// EXAMS
// =====================================
export const mockExams = [
  {
    id: 1,
    courseId: 1,
    variantId: 1,
    title: "Үйлдлийн систем шалгалт",
    description: "RAM, ROM, CPU, санах ойн хаяглалт",
    startDate: "2025-02-15T09:00:00",
    endDate: "2025-02-15T11:00:00",
    duration: 10,
    totalMarks: 35,
    passingMarks: 20,
    status: "active",
    createdBy: "Багш А",
    createdAt: "2025-02-01T10:00:00",
    selectedTopics: [
      { topicId: 13, questionCount: 2 },
      { topicId: 14, questionCount: 2 },
      { topicId: 15, questionCount: 2 },
      { topicId: 16, questionCount: 1 },
    ],
    totalQuestions: 7,
  },
  {
    id: 2,
    courseId: 2,
    title: "Математик I дундын шалгалт",
    description: "Тэгшитгэл, интеграл, тооцоолол",
    startDate: "2025-03-01T09:00:00",
    endDate: "2025-03-01T10:30:00",
    duration: 15,
    totalMarks: 50,
    passingMarks: 25,
    status: "draft",
    createdBy: "Багш Б",
    createdAt: "2025-02-10T10:00:00",
    selectedTopics: [],
    totalQuestions: 0,
  },
];

// =====================================
// VARIANTS (AUTOGENERATED USING getRandomQuestions)
// =====================================
const makeVariant = (examId, name) => {
  const questionIds = getRandomQuestions();
  return {
    id: Math.floor(Math.random() * 10000),
    examId,
    name,
    description: `${name} - санамсаргүй ${questionIds.length} асуулт`,
    questionIds,
    totalQuestions: questionIds.length,
    createdAt: new Date().toISOString(),
  };
};

export const mockVariants = [
  makeVariant(1, "Вариант A"),
  makeVariant(2, "Вариант B"),
  makeVariant(3, "Вариант C"),
];

// =====================================
// QUESTION BANK
// =====================================
export const mockQuestionBank = [
  {
    id: 14,
    courseId: 1,
    topicId: 13,
    question: "DRAM ямар төрлийн санах ой вэ?",
    type: "multiple_choice",
    options: [
      "Тогтмол сэргээх шаардлагатай.",
      "Сэргээх шаардлагагүй",
      "ROM төрөл",
      "Flash санах ой",
    ],
    correctAnswers: ["Тогтмол сэргээх шаардлагатай."],
    marks: 5,
    difficulty: "easy",
    tags: ["DRAM", "RAM"],
  },
  {
    id: 15,
    courseId: 1,
    topicId: 13,
    question: "SRAM нь ______ шаардлагагүй санах ой юм.",
    type: "fill_blank",
    correctAnswers: ["сэргээх."],
    acceptableAnswers: ["refresh", "сэргээлт"],
    marks: 5,
    difficulty: "easy",
  },
  {
    id: 16,
    courseId: 1,
    topicId: 13,
    question:
      "___ нь системийн үндсэн шинжлэх (bus) цагтай уялдаж, өгөгдөл унших, бичих үйлдлийг яг цагийн дохионд нийцүүлэн хийдэг.",
    type: "text_answer",
    correctAnswers: ["SDRAM"],
    marks: 5,
    difficulty: "medium",
  },
  {
    id: 17,
    courseId: 1,
    topicId: 13,
    question: "SDRAM нь DRAM-аас ямар онцлогтой вэ? (Олон хариулт сонгоно уу)",
    type: "multiple_correct",
    options: [
      "Илүү хурдан ажилладаг.",
      "Илүү удаан ажилладаг",
      "CPU-ийн цагтай синхрон.",
      "Илүү их сэргээлт шаардлагатай",
    ],
    correctAnswers: ["Илүү хурдан ажилладаг.", "CPU-ийн цагтай синхрон."],
    marks: 5,
  },
  {
    id: 42,
    courseId: 1,
    topicId: 16,
    question:
      "Зурганд харуулсан компьютерын бүрэлдэхүүн хэсгүүдээс аль нь санах ой вэ?",
    image: "/src/team6/data/test1.png",
    type: "multiple_choice",
    options: ["A", "B", "C"],
    correctAnswers: ["A"],
    marks: 5,
  },
];

// =====================================
// STUDENTS
// =====================================
export const mockStudents = [
  { id: 1, name: "Б.Болд", email: "bold@student.edu.mn" },
  { id: 2, name: "Ц.Саруул", email: "saruul@student.edu.mn" },
  { id: 3, name: "Д.Энхжин", email: "enkhjin@student.edu.mn" },
];

// =====================================
// TEACHERS
// =====================================
export const mockTeachers = [
  { id: 1, name: "Багш А", email: "teacherA@school.edu.mn", department: "CS" },
  {
    id: 2,
    name: "Багш Б",
    email: "teacherB@school.edu.mn",
    department: "Math",
  },
];

// =====================================
// STUDENT EXAMS
// =====================================
export const mockStudentExams = [
  {
    id: 1,
    examId: 1,
    studentId: 1,
    studentName: "Б.Болд",
    variantId: 1,
    status: "not_started",
    startTime: null,
    endTime: null,
    score: null,
    answers: [],
  },
  {
    id: 2,
    examId: 1,
    studentId: 2,
    studentName: "Ц.Саруул",
    variantId: 2,
    status: "in_progress",
    startTime: "2025-02-15T09:10:00",
    endTime: null,
    score: null,
    answers: [],
  },
];

// =====================================
// EXAM STATISTICS
// =====================================
export const mockExamStats = {
  1: {
    examId: 1,
    totalStudents: 30,
    completedStudents: 10,
    averageScore: 24,
    highestScore: 35,
    lowestScore: 10,
    passRate: 60,
  },
};
